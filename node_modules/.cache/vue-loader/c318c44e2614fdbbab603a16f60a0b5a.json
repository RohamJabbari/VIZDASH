{"remainingRequest":"/Users/rohamjabbari/Desktop/VIS/A5/jabbarir79_A5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rohamjabbari/Desktop/VIS/A5/jabbarir79_A5/src/components/BarChart.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/rohamjabbari/Desktop/VIS/A5/jabbarir79_A5/src/components/BarChart.vue","mtime":1705870572440},{"path":"/Users/rohamjabbari/Desktop/VIS/A5/jabbarir79_A5/node_modules/cache-loader/dist/cjs.js","mtime":1705744300535},{"path":"/Users/rohamjabbari/Desktop/VIS/A5/jabbarir79_A5/node_modules/babel-loader/lib/index.js","mtime":1705744300565},{"path":"/Users/rohamjabbari/Desktop/VIS/A5/jabbarir79_A5/node_modules/cache-loader/dist/cjs.js","mtime":1705744300535},{"path":"/Users/rohamjabbari/Desktop/VIS/A5/jabbarir79_A5/node_modules/vue-loader/lib/index.js","mtime":1705744299123}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgppbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0JhckNoYXJ0JywKICBwcm9wczogewogIH0sCiAgZGF0YSgpIHsKICAgIGNvbnN0IHN2Z1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggKiA0IC8gMTI7CiAgICBjb25zdCBzdmdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjM1OwogICAgcmV0dXJuIHsKICAgICAgem9vbWVkWFNjYWxlOiBudWxsLAogICAgICAvLyB6b29tZWRZU2NhbGU6IG51bGwsCiAgICAgIHN2Z1dpZHRoOiBzdmdXaWR0aCwKICAgICAgc3ZnSGVpZ2h0OiBzdmdIZWlnaHQsCiAgICAgIHN2Z1BhZGRpbmc6IHsKICAgICAgICB0b3A6IDUsIHJpZ2h0OiAyMCwgYm90dG9tOiAxMjAsIGxlZnQ6IDEwMCwKICAgICAgfQogICAgICAKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmRyYXdDaGFydCh0aGlzLnhTY2FsZSk7CiAgICB0aGlzLmFkZEJydXNoKCk7CiAgICB0aGlzLmluaXRpYWxpemUoKTsKICAgIGQzLnNlbGVjdCgiI2Jhci1zdmciKS5hcHBlbmQoJ2cnKQogICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKHRoaXMuc3ZnV2lkdGgvMikgKyAnLCcrICh0aGlzLnN2Z0hlaWdodC0xMCkgKycpJykKICAgICAgLmFwcGVuZCgidGV4dCIpCiAgICAgIC50ZXh0KCJDb3VudHJ5IikKICAgICAgLnN0eWxlKCJmb250LXNpemUiLCAiMTRweCIpCiAgfSwKICBtZXRob2RzOiB7CiAgICByZW1vdmVTZWxlY3Rpb24oKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncmVtb3ZlU2VsZWN0ZWRDb3VudHJpZXMnKTsKICAgIH0sCiAgICBpbml0aWFsaXplKCkgewogICAgICB2YXIgbG9jYWxicnVzaGVkQ291bnRyaWVzID0gW107CiAgICAgIHRoaXMuZmlsdGVyZWREYXRhLmZvckVhY2goZCA9PiBsb2NhbGJydXNoZWRDb3VudHJpZXMucHVzaChkLmlkKSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlQnJ1c2hlZENvdW50cmllcycsIGxvY2FsYnJ1c2hlZENvdW50cmllcyk7CiAgICB9LAogICAgcmVzZXRab29tKCkgewogICAgICB0aGlzLnpvb21lZFhTY2FsZSA9IG51bGw7CiAgICAgIHZhciBsb2NhbGJydXNoZWRDb3VudHJpZXMgPSBbXTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VCcnVzaGVkQ291bnRyaWVzJywgbG9jYWxicnVzaGVkQ291bnRyaWVzKTsKICAgICAgdGhpcy5pbml0aWFsaXplKCk7CiAgICAgIHRoaXMuZHJhd0NoYXJ0KHRoaXMueFNjYWxlKTsKICAgIH0sCiAgICBkcmF3Q2hhcnQoeFNjYWxlKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmNoYXJ0KSB0aGlzLnN2Z1dpZHRoID0gdGhpcy4kcmVmcy5jaGFydC5jbGllbnRXaWR0aDsKICAgICAgZDMuc2VsZWN0KHRoaXMuJHJlZnMuY2hhcnRHcm91cCkKICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuc3ZnUGFkZGluZy5sZWZ0fSwke3RoaXMuc3ZnUGFkZGluZy50b3B9KWApOwogICAgICB0aGlzLmRyYXdYQXhpcyh4U2NhbGUpOwogICAgICB0aGlzLmRyYXdZQXhpcygpOwogICAgICB0aGlzLmRyYXdCYXJzKHhTY2FsZSk7CiAgICB9LAogICAgZHJhd1hBeGlzKHhTY2FsZSkgewogICAgICBjb25zdCB0cmFuc2l0aW9uID0gZDMudHJhbnNpdGlvbigpLmR1cmF0aW9uKDc1MCk7IC8vIER1cmF0aW9uIGluIG1pbGxpc2Vjb25kcwoKICAgICAgY29uc3Qgc2VsZWN0ZWREYXRhID0gdGhpcy5maWx0ZXJlZERhdGEuZmlsdGVyKGQgPT4gdGhpcy5zZWxlY3RlZENvdW50cmllcy5pbmNsdWRlcyhkLmlkKSkubWFwKGQgPT4gZC5jb3VudHJ5KTsKCiAgICAgIGNvbnN0IHhBeGlzR3JvdXAgPSBkMy5zZWxlY3QodGhpcy4kcmVmcy5heGlzWCkKICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSggMCwgJHt0aGlzLnN2Z0hlaWdodCAtIHRoaXMuc3ZnUGFkZGluZy50b3AgLSB0aGlzLnN2Z1BhZGRpbmcuYm90dG9tfSApYCkKICAgICAgICAudHJhbnNpdGlvbih0cmFuc2l0aW9uKSAvLyBBcHBseSB0cmFuc2l0aW9uIHRvIHRoZSBheGlzIGdyb3VwCiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4U2NhbGUpKTsKCiAgICAgIHhBeGlzR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JykKICAgICAgICAuYXR0cigneScsICc3cHgnKQogICAgICAgIC5hdHRyKCd4JywgJzE1cHgnKQogICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnc3RhcnQnKQogICAgICAgIC5hdHRyKCdkeCcsICctLjhlbScpCiAgICAgICAgLmF0dHIoJ2R5JywgJy4xNWVtJykKICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3JvdGF0ZSg2MCknKQogICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEwcHgnKQogICAgICAgIC5hdHRyKCdvcGFjaXR5JywgZnVuY3Rpb24oZCkgewogICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY291bnRyeSBJRCBpcyBpbiB0aGUgc2VsZWN0ZWRDb3VudHJpZXMgYXJyYXkKICAgICAgICAgICAgbGV0IG9wYWNpdHkgPSAwOwogICAgICAgICAgICBpZiAoc2VsZWN0ZWREYXRhICYmIHNlbGVjdGVkRGF0YS5sZW5ndGggIT09IDApIHsKICAgICAgICAgICAgICBvcGFjaXR5ID0gc2VsZWN0ZWREYXRhLmluY2x1ZGVzKGQpID8gMSA6IDA7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5maWx0ZXJlZERhdGEubGVuZ3RoIDwgNTApIHsKICAgICAgICAgICAgICBvcGFjaXR5ID0gMQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG9wYWNpdHkgPSAwCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG9wYWNpdHk7CgogICAgICAgIH0uYmluZCh0aGlzKSk7CgogICAgICBjb25zdCBsYWJlbCA9IGQzLnNlbGVjdCh0aGlzLiRyZWZzLmF4aXNYKS5zZWxlY3QoJy54LWF4aXMtbGFiZWwnKTsKICAgICAgaWYgKGxhYmVsLmVtcHR5KCkpIHsKICAgICAgICBkMy5zZWxlY3QodGhpcy4kcmVmcy5heGlzWCkgLy8gQXBwZW5kIHRvIHRoZSBtYWluIGdyb3VwLCBub3QgdGhlIHRyYW5zaXRpb25pbmcgZ3JvdXAKICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKQogICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3gtYXhpcy1sYWJlbCcpCiAgICAgICAgICAuYXR0cigneCcsIHRoaXMuc3ZnV2lkdGggLyAyKQogICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLnN2Z0hlaWdodCAqMikgCiAgICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpCiAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMnB4JykKICAgICAgICAgIC50ZXh0KCdDb3VudHJpZXMnKTsKICAgICAgfQoKICAgIH0sCiAgICBkcmF3WUF4aXMoKSB7CiAgICAgIGQzLnNlbGVjdCh0aGlzLiRyZWZzLmF4aXNZKQogICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHRoaXMueVNjYWxlKSkKICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMHB4JykKICAgICAgICAuYXBwZW5kKCd0ZXh0JykKICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3JvdGF0ZSgtOTApJykKICAgICAgICAuYXR0cigneCcsIC10aGlzLnN2Z0hlaWdodC8yICsgdGhpcy5zdmdQYWRkaW5nLnRvcCArIHRoaXMuc3ZnUGFkZGluZy5ib3R0b20gLSAzMCkKICAgICAgICAuYXR0cigneScsIC10aGlzLnN2Z1BhZGRpbmcubGVmdCArNTUpCiAgICAgICAgLmF0dHIoJ2R5JywgJzAuNzFlbScpCiAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ2VuZCcpCiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKQogICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEycHgnKQogICAgICAgIC50ZXh0KCJEaXNhc3RlciBGcmVxdWVuY3kiKTsKICAgIH0sCiAgICBkcmF3QmFycyh4U2NhbGUpIHsKICAgICAgY29uc3QgYmFyc0dyb3VwID0gZDMuc2VsZWN0KHRoaXMuJHJlZnMuYmFyc0dyb3VwKTsKICAgICAgY29uc3QgdG9vbHRpcCA9IGQzLnNlbGVjdCgiI3Rvb2x0aXAiKTsKICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IGQzLnRyYW5zaXRpb24oKS5kdXJhdGlvbig3NTApOwoKICAgICAgLy8gRmlsdGVyIHRoZSBkYXRhIHRvIG9ubHkgaW5jbHVkZSBicnVzaGVkIGNvdW50cmllcwogICAgICBjb25zdCBicnVzaGVkRGF0YSA9IHRoaXMuYnJ1c2hlZENvdW50cmllcy5sZW5ndGgKICAgICAgICA/IHRoaXMuZmlsdGVyZWREYXRhLmZpbHRlcihkID0+IHRoaXMuYnJ1c2hlZENvdW50cmllcy5pbmNsdWRlcyhkLmlkKSkKICAgICAgICA6IHRoaXMuZmlsdGVyZWREYXRhOwoKICAgICAgYmFyc0dyb3VwLnNlbGVjdEFsbCgnLmJhcicpCiAgICAgICAgLmRhdGEoYnJ1c2hlZERhdGEsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuaWQ7IH0pCiAgICAgICAgLmpvaW4oCiAgICAgICAgICBlbnRlciA9PiBlbnRlci5hcHBlbmQoJ3JlY3QnKQogICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYmFyJykKICAgICAgICAgICAgLmF0dHIoJ3gnLCAoZCkgPT4geFNjYWxlKGQuY291bnRyeSkpCiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHhTY2FsZS5iYW5kd2lkdGgoKSkKICAgICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLnN2Z0hlaWdodCAtIHRoaXMuc3ZnUGFkZGluZy50b3AgLSB0aGlzLnN2Z1BhZGRpbmcuYm90dG9tKSAvLyBTdGFydCBmcm9tIGJvdHRvbQogICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgMCkgCiAgICAgICAgICAgIC5jYWxsKGVudGVyID0+IGVudGVyLnRyYW5zaXRpb24odHJhbnNpdGlvbikgLy8gVHJhbnNpdGlvbiBvbiBlbnRlcgogICAgICAgICAgICAgIC5hdHRyKCd5JywgKGQpID0+IHRoaXMueVNjYWxlKGQudmFsdWUpKQogICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCAoZCkgPT4gdGhpcy5zdmdIZWlnaHQgLSB0aGlzLnN2Z1BhZGRpbmcudG9wIC0gdGhpcy5zdmdQYWRkaW5nLmJvdHRvbSAtIHRoaXMueVNjYWxlKGQudmFsdWUpKSksCiAgICAgICAgICB1cGRhdGUgPT4gdXBkYXRlLmNhbGwodXBkYXRlID0+IHVwZGF0ZS50cmFuc2l0aW9uKHRyYW5zaXRpb24pIC8vIFRyYW5zaXRpb24gb24gdXBkYXRlCiAgICAgICAgICAgIC5hdHRyKCd4JywgKGQpID0+IHhTY2FsZShkLmNvdW50cnkpKQogICAgICAgICAgICAuYXR0cignd2lkdGgnLCB4U2NhbGUuYmFuZHdpZHRoKCkpCiAgICAgICAgICAgIC5hdHRyKCd5JywgKGQpID0+IHRoaXMueVNjYWxlKGQudmFsdWUpKQogICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgKGQpID0+IHRoaXMuc3ZnSGVpZ2h0IC0gdGhpcy5zdmdQYWRkaW5nLnRvcCAtIHRoaXMuc3ZnUGFkZGluZy5ib3R0b20gLSB0aGlzLnlTY2FsZShkLnZhbHVlKSkpLAogICAgICAgICAgZXhpdCA9PiBleGl0LmNhbGwoZXhpdCA9PiBleGl0LnRyYW5zaXRpb24odHJhbnNpdGlvbikgLy8gVHJhbnNpdGlvbiBvbiBleGl0CiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5zdmdIZWlnaHQgLSB0aGlzLnN2Z1BhZGRpbmcudG9wIC0gdGhpcy5zdmdQYWRkaW5nLmJvdHRvbSkKICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDApCiAgICAgICAgICAgIC5yZW1vdmUoKSkKICAgICAgICApCiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IHsKICAgICAgICAgIGNvbnN0IGNvdW50cnlEYXRhID0gdGhpcy5maWx0ZXJlZERhdGEuZmluZChzID0+IHMuaWQgPT09IGQuaWQpOwogICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb3VudHJpZXMuaW5jbHVkZXMoZC5pZCk7CiAgICAgICAgICBpZiAoY291bnRyeURhdGEuY291bnRyeSkgewogICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkgewogICAgICAgICAgICAgIGlmICh0aGlzLmJydXNoZWRDb3VudHJpZXMuaW5jbHVkZXMoY291bnRyeURhdGEuaWQpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYigyNTMsIDI1NSwgMTgxKSc7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAncmdiKDE1MCwgMTUwLCAxNTApJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYnJ1c2hlZENvdW50cmllcy5pbmNsdWRlcyhjb3VudHJ5RGF0YS5pZCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvbG9yRm9yQ291bnRyeShjb3VudHJ5RGF0YSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAncmdiKDEzMCwgMTMwLCAxMzApJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAnZGFya2dyZXknOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLm9uKCdjbGljaycsIChldmVudCwgZCkgPT4gdGhpcy5oYW5kbGVCYXJDbGljayhkLmlkKSkKICAgICAgICAub24oJ21vdXNlb3ZlcicsIChldmVudCwgZCkgPT4gewogICAgICAgICAgbGV0IGxhbmRDb3ZlclRlbXA7CiAgICAgICAgICBsZXQgY2FyYm9uU3RvY2tzVGVtcDsKICAgICAgICAgIGxldCBkaXNhc3RlcnNGcmVxVGVtcDsKICAgICAgICAgIGNvbnN0IGhvdmVyaW5nTGFuZENvdmVyID0gdGhpcy5sYW5kQ292ZXIuZmluZChjb3VudHJ5ID0+IGNvdW50cnkuaWQgPT09IGQuaWQpOwogICAgICAgICAgY29uc3QgaG92ZXJpbmdDYXJib25TdG9ja3MgPSB0aGlzLmNhcmJvblN0b2Nrcy5maW5kKGNvdW50cnkgPT4gY291bnRyeS5pZCA9PT0gZC5pZCk7CiAgICAgICAgICBjb25zdCBob3ZlcmluZ0Rpc2FzdGVycyA9IHRoaXMuZGlzYXN0ZXJzRnJlcS5maW5kKGNvdW50cnkgPT4gY291bnRyeS5pZCA9PT0gZC5pZCkKICAgICAgICAgIGlmIChob3ZlcmluZ0xhbmRDb3ZlcikgewogICAgICAgICAgICBsYW5kQ292ZXJUZW1wID0gaG92ZXJpbmdMYW5kQ292ZXIudmFsdWUgPT09IDAgPyAnTm8gRGF0YScgOiBob3ZlcmluZ0xhbmRDb3Zlci52YWx1ZS50b0ZpeGVkKDQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGFuZENvdmVyVGVtcCA9ICdObyBEYXRhJzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChob3ZlcmluZ0NhcmJvblN0b2NrcykgewogICAgICAgICAgICBjYXJib25TdG9ja3NUZW1wID0gaG92ZXJpbmdDYXJib25TdG9ja3MudmFsdWUgPT09IDAgPyAnTm8gRGF0YScgOiBob3ZlcmluZ0NhcmJvblN0b2Nrcy52YWx1ZS50b0ZpeGVkKDQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FyYm9uU3RvY2tzVGVtcCA9ICdObyBEYXRhJzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChob3ZlcmluZ0Rpc2FzdGVycykgewogICAgICAgICAgICBkaXNhc3RlcnNGcmVxVGVtcCA9IGhvdmVyaW5nRGlzYXN0ZXJzLnZhbHVlID09PSAtMSA/ICdObyBEYXRhJyA6IGhvdmVyaW5nRGlzYXN0ZXJzLnZhbHVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlzYXN0ZXJzRnJlcVRlbXAgPSAnTm8gRGF0YSc7CiAgICAgICAgICB9CiAgICAgICAgICB0b29sdGlwLnRyYW5zaXRpb24oKQogICAgICAgICAgICAuZHVyYXRpb24oMjAwKQogICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTsKCgogICAgICAgICAgdG9vbHRpcC5odG1sKGAKICAgICAgICAgICAgPHRhYmxlPgogICAgICAgICAgICAgIDx0cj48dGQgY2xhc3M9ImxhYmVsIj5Db3VudHJ5OjwvdGQ+ICAgICAgICAgPHRkIGNsYXNzPSJ2YWx1ZSI+JHtkLmNvdW50cnl9PC90ZD48L3RyPgogICAgICAgICAgICAgIDx0cj48dGQgY2xhc3M9ImxhYmVsIj5DYXJib25TdG9ja3M6PC90ZD4gICAgICAgIDx0ZCBjbGFzcz0idmFsdWUiPiR7Y2FyYm9uU3RvY2tzVGVtcH08L3RkPjwvdHI+CiAgICAgICAgICAgICAgPHRyPjx0ZCBjbGFzcz0ibGFiZWwiPkxhbmRDb3ZlckluZGV4OjwvdGQ+ICAgICA8dGQgY2xhc3M9InZhbHVlIj4ke2xhbmRDb3ZlclRlbXB9PC90ZD48L3RyPgogICAgICAgICAgICAgIDx0cj48dGQgY2xhc3M9ImxhYmVsIj5kaXNhc3RlcnNGcmVxOjwvdGQ+ICAgICA8dGQgY2xhc3M9InZhbHVlIj4ke2Rpc2FzdGVyc0ZyZXFUZW1wfTwvdGQ+PC90cj4KICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgIGApCiAgICAgICAgICAgIC5zdHlsZSgnbGVmdCcsIChldmVudC5jbGllbnRYIC0gMjc1KSArICdweCcpCiAgICAgICAgICAgIC5zdHlsZSgndG9wJywgKGV2ZW50LmNsaWVudFkgLSA0MDApICsgJ3B4Jyk7CiAgICAgICAgfSkKICAgICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4gewogICAgICAgICAgdG9vbHRpcC50cmFuc2l0aW9uKCkuZHVyYXRpb24oNTAwKS5zdHlsZSgnb3BhY2l0eScsIDApOwogICAgICAgICAgCiAgICAgICAgfSk7CiAgICB9LAoKICAgIGhhbmRsZUJhckNsaWNrKGNvdW50cnlJZCkgewogICAgICBjb25zdCBpc1NlbGVjdGVkID0gdGhpcy5zZWxlY3RlZENvdW50cmllcy5pbmNsdWRlcyhjb3VudHJ5SWQpOwogICAgICBpZiAoIWlzU2VsZWN0ZWQpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVNlbGVjdGVkQ291bnRyaWVzJywgY291bnRyeUlkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3JlbW92ZVNlbGVjdGVkQ291bnRyeScsIGNvdW50cnlJZCk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRDb2xvckZvckNvdW50cnkoY291bnRyeURhdGEpIHsKICAgICAgY29uc3QgY29sb3JzID0gWwogICAgICAgICJyZ2IoMjMwLCAyMzAsIDIzMCkiLAogICAgICAgICJyZ2IoMjIwLCAxODMsIDIxMCkiLCAvLyAwIDEgCiAgICAgICAgInJnYigyMTEsIDE0NiwgMTk0KSIsIC8vIDAgMCAKICAgICAgICAicmdiKDE5NSwgMjM4LCAxOTkpIiwgLy8gMSAyIAogICAgICAgICJyZ2IoMTUxLCAxODUsIDE5OSkiLCAKICAgICAgICAicmdiKDE2OCwgMTQwLCAxOTEpIiwgLy8gMSAwIAogICAgICAgICJyZ2IoMTQ4LCAyMjEsIDE2NikiLCAvLyAyIDIgCiAgICAgICAgInJnYigxMjksIDE4NiwgMTYyKSIsIC8vIDIgMSAKICAgICAgICAicmdiKDEwNywgMTIwLCAxNTUpIiwKICAgICAgXTsKICAgICAgY29uc3QgbGFuZENvdmVyRGF0YSA9IHRoaXMubGFuZENvdmVyLmZpbmQoY291bnRyeSA9PiBjb3VudHJ5LmlkID09PSBjb3VudHJ5RGF0YS5pZCk7CiAgICAgIGNvbnN0IGNhcmJvblN0b2Nrc0RhdGEgPSB0aGlzLmNhcmJvblN0b2Nrcy5maW5kKGNvdW50cnkgPT4gY291bnRyeS5pZCA9PT0gY291bnRyeURhdGEuaWQpOwogICAgICBpZiAoIWxhbmRDb3ZlckRhdGEgfHwgIWNhcmJvblN0b2Nrc0RhdGEpIHsKICAgICAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgZGF0YSBpcyBub3QgYXZhaWxhYmxlIGZvciB0aGUgY291bnRyeQogICAgICAgIHJldHVybiAnZGFya2dyZXknOwogICAgICB9CiAgICAgIGxldCBsYW5kQ292ZXJDYXRlZ29yeSA9IHRoaXMuZ2V0TGFuZENvdmVyQ2F0ZWdvcnkobGFuZENvdmVyRGF0YS52YWx1ZSk7CiAgICAgIGxldCBjYXJib25TdG9ja3NDYXRlZ29yeSA9IHRoaXMuZ2V0Q2FyYm9uU3RvY2tzQ2F0ZWdvcnkoY2FyYm9uU3RvY2tzRGF0YS52YWx1ZSk7CgogICAgICBpZiAoY2FyYm9uU3RvY2tzQ2F0ZWdvcnkgPT09ICdsb3cnICYmIGxhbmRDb3ZlckNhdGVnb3J5ID09PSAnbG93JykgcmV0dXJuIGNvbG9yc1swXTsKICAgICAgaWYgKGNhcmJvblN0b2Nrc0NhdGVnb3J5ID09PSAnbG93JyAmJiBsYW5kQ292ZXJDYXRlZ29yeSA9PT0gJ21lZGl1bScpIHJldHVybiBjb2xvcnNbMV07CiAgICAgIGlmIChjYXJib25TdG9ja3NDYXRlZ29yeSA9PT0gJ2xvdycgJiYgbGFuZENvdmVyQ2F0ZWdvcnkgPT09ICdoaWdoJykgcmV0dXJuIGNvbG9yc1syXTsKICAgICAgaWYgKGNhcmJvblN0b2Nrc0NhdGVnb3J5ID09PSAnbWVkaXVtJyAmJiBsYW5kQ292ZXJDYXRlZ29yeSA9PT0gJ2xvdycpIHJldHVybiBjb2xvcnNbM107CiAgICAgIGlmIChjYXJib25TdG9ja3NDYXRlZ29yeSA9PT0gJ21lZGl1bScgJiYgbGFuZENvdmVyQ2F0ZWdvcnkgPT09ICdtZWRpdW0nKSByZXR1cm4gY29sb3JzWzRdOwogICAgICBpZiAoY2FyYm9uU3RvY2tzQ2F0ZWdvcnkgPT09ICdtZWRpdW0nICYmIGxhbmRDb3ZlckNhdGVnb3J5ID09PSAnaGlnaCcpIHJldHVybiBjb2xvcnNbNV07CiAgICAgIGlmIChjYXJib25TdG9ja3NDYXRlZ29yeSA9PT0gJ2hpZ2gnICYmIGxhbmRDb3ZlckNhdGVnb3J5ID09PSAnbG93JykgcmV0dXJuIGNvbG9yc1s2XTsKICAgICAgaWYgKGNhcmJvblN0b2Nrc0NhdGVnb3J5ID09PSAnaGlnaCcgJiYgbGFuZENvdmVyQ2F0ZWdvcnkgPT09ICdtZWRpdW0nKSByZXR1cm4gY29sb3JzWzddOwogICAgICBpZiAoY2FyYm9uU3RvY2tzQ2F0ZWdvcnkgPT09ICdoaWdoJyAmJiBsYW5kQ292ZXJDYXRlZ29yeSA9PT0gJ2hpZ2gnKSByZXR1cm4gY29sb3JzWzhdOwogICAgfSwKICAgIGdldExhbmRDb3ZlckNhdGVnb3J5KGxhbmRDb3ZlcikgewogICAgICBjb25zdCB4Rmlyc3RUaWNrID0gdGhpcy5sYW5kQ292ZXJNaW4gKyAodGhpcy5sYW5kQ292ZXJNYXggLSB0aGlzLmxhbmRDb3Zlck1pbikgLyAzOwogICAgICBjb25zdCB4U2Vjb25kVGljayA9IHRoaXMubGFuZENvdmVyTWluICsgMiAqICh0aGlzLmxhbmRDb3Zlck1heCAtIHRoaXMubGFuZENvdmVyTWluKSAvIDM7CiAgICAgIGNvbnN0IHhUaHJlc2hvbGRzID0gW3hGaXJzdFRpY2ssIHhTZWNvbmRUaWNrXTsKICAgICAgaWYgKGxhbmRDb3ZlciA8PSB4VGhyZXNob2xkc1swXSkgcmV0dXJuICdsb3cnOwogICAgICBpZiAobGFuZENvdmVyIDw9IHhUaHJlc2hvbGRzWzFdKSByZXR1cm4gJ21lZGl1bSc7CiAgICAgIHJldHVybiAnaGlnaCc7CiAgICB9LAoKICAgIGdldENhcmJvblN0b2Nrc0NhdGVnb3J5KGNhcmJvblN0b2NrcykgewogICAgICBjb25zdCB5Rmlyc3RUaWNrID0gdGhpcy5jYXJib25TdG9ja3NNaW4gKyAodGhpcy5jYXJib25TdG9ja3NNYXggLSB0aGlzLmNhcmJvblN0b2Nrc01pbikgLyAzOwogICAgICBjb25zdCB5U2Vjb25kVGljayA9IHRoaXMuY2FyYm9uU3RvY2tzTWluICsgMiAqICh0aGlzLmNhcmJvblN0b2Nrc01heCAtIHRoaXMuY2FyYm9uU3RvY2tzTWluKSAvIDM7CiAgICAgIGNvbnN0IHlUaHJlc2hvbGRzID0gW3lGaXJzdFRpY2ssIHlTZWNvbmRUaWNrXTsKICAgICAgaWYgKGNhcmJvblN0b2NrcyA8PSB5VGhyZXNob2xkc1swXSkgcmV0dXJuICdsb3cnOwogICAgICBpZiAoY2FyYm9uU3RvY2tzIDw9IHlUaHJlc2hvbGRzWzFdKSByZXR1cm4gJ21lZGl1bSc7CiAgICAgIHJldHVybiAnaGlnaCc7CiAgICB9LAoKICAgIGFkZEJydXNoKCkgewogICAgICB0aGlzLmJydXNoID0gZDMuYnJ1c2hYKCkKICAgICAgICAuZXh0ZW50KFtbMCwwXSwgW3RoaXMuc3ZnV2lkdGggLSB0aGlzLnN2Z1BhZGRpbmcubGVmdCAtIHRoaXMuc3ZnUGFkZGluZy5yaWdodCwgCiAgICAgICAgICB0aGlzLnN2Z0hlaWdodCAtIHRoaXMuc3ZnUGFkZGluZy5ib3R0b20gLSB0aGlzLnN2Z1BhZGRpbmcudG9wXV0pCiAgICAgICAgLm9uKCdlbmQnLCB0aGlzLm9uQnJ1c2gpOwogICAgICAKICAgICAgZDMuc2VsZWN0KHRoaXMuJHJlZnMuYnJ1c2hHcm91cCkKICAgICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2gnKQogICAgICAgIC5jYWxsKHRoaXMuYnJ1c2gpOwogICAgfSwKICAgIC8vIGdldCBzdGF0ZXMgaW4gYnJ1c2gKICAgIG9uQnJ1c2goZXZlbnQpIHsKICAgICAgdmFyIHNlbGVjdGlvbiA9IGV2ZW50LnNlbGVjdGlvbjsKICAgICAgdmFyIGJydXNoZWRJZHMgPSBbXTsKICAgICAgdmFyIHhTY2FsZTsKICAgICAgaWYgKHRoaXMuem9vbWVkWFNjYWxlKSB7CiAgICAgICAgeFNjYWxlID0gdGhpcy56b29tZWRYU2NhbGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgeFNjYWxlID0gdGhpcy54U2NhbGUKICAgICAgfQoKICAgICAgaWYgKHNlbGVjdGlvbikgewogICAgICAgIGNvbnN0IFt4MCwgeDFdID0gc2VsZWN0aW9uOwogICAgICAgIAogICAgICAgIC8vIEZpbHRlciB0aGUgZGF0YSBiYXNlZCBvbiB0aGUgYnJ1c2hlZCBzZWxlY3Rpb24KICAgICAgICBicnVzaGVkSWRzID0gdGhpcy5maWx0ZXJlZERhdGEKICAgICAgICAgIC5maWx0ZXIoZCA9PiB7CiAgICAgICAgICAgIGNvbnN0IHggPSB4U2NhbGUoZC5jb3VudHJ5KTsKICAgICAgICAgICAgcmV0dXJuIHggPj0geDAgJiYgeCA8PSB4MTsKICAgICAgICAgIH0pCiAgICAgICAgICAubWFwKGQgPT4gZC5pZCk7CiAgICAgIH0KICAgICAgdGhpcy5kcmF3QmFycyh4U2NhbGUpOyAvLyBSZWRyYXcgYmFycyB3aXRoIHVwZGF0ZWQgZGF0YQogICAgICAgIAogICAgICB2YXIgaWRsZVRpbWVvdXQ7CiAgICAgIGlmICghc2VsZWN0aW9uKSB7CiAgICAgICAgaWYgKCFpZGxlVGltZW91dCkgcmV0dXJuIGlkbGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICBpZGxlVGltZW91dCA9IG51bGwKICAgICAgICB9LCAxKSAKICAgICAgfQogICAgICBkMy5zZWxlY3QoJyNiYXItc3ZnJykuc2VsZWN0KCIuYnJ1c2giKS5jYWxsKHRoaXMuYnJ1c2gubW92ZSwgbnVsbCkKCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlQnJ1c2hlZENvdW50cmllcycsIGJydXNoZWRJZHMpOwogICAgfSwKICAgIAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIAogICAgZmlsdGVyZWREYXRhKCkgewogICAgICBsZXQgZmlsdGVyZWQgPSB0aGlzLmRpc2FzdGVyc0ZyZXEuZmlsdGVyKGQgPT4gZC52YWx1ZSA+IDApOwogICAgICBpZiAodGhpcy5icnVzaGVkQ291bnRyaWVzLmxlbmd0aCA+IDApIHsKICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihkID0+IHRoaXMuYnJ1c2hlZENvdW50cmllcy5pbmNsdWRlcyhkLmlkKSk7CiAgICAgIH0KICAgICAgZmlsdGVyZWQuc29ydCgoYSwgYikgPT4gZDMuZGVzY2VuZGluZygrYS52YWx1ZSwgK2IudmFsdWUpKTsKICAgICAgcmV0dXJuIGZpbHRlcmVkOwogICAgfSwKICAgIGxhbmRDb3ZlcjogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMubGFuZENvdmVyOwogICAgICB9CiAgICB9LAogICAgY2FyYm9uU3RvY2tzOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5jYXJib25TdG9ja3M7CiAgICAgIH0KICAgIH0sCiAgICBkaXNhc3RlcnNGcmVxOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5kaXNhc3RlcnNGcmVxOwogICAgICB9CiAgICB9LAogICAgZGF0YU1heCgpIHsKICAgICAgcmV0dXJuIDQwOwogICAgfSwKICAgIGRhdGFNaW4oKSB7CiAgICAgIHJldHVybiAwOwogICAgfSwKICAgIGNhcmJvblN0b2Nrc01heCgpIHsKICAgICAgcmV0dXJuIDIwMDsKICAgIH0sCiAgICBjYXJib25TdG9ja3NNaW4oKSB7CiAgICAgIHJldHVybiAwOwogICAgfSwKICAgIGxhbmRDb3Zlck1heCgpIHsKICAgICAgcmV0dXJuIDEzMDsKICAgIH0sCiAgICBsYW5kQ292ZXJNaW4oKSB7CiAgICAgIHJldHVybiA3MDsKICAgIH0sCiAgICB4U2NhbGUoKSB7CiAgICAgIHJldHVybiBkMy5zY2FsZUJhbmQoKQogICAgICAgIC5yYW5nZVJvdW5kKFswLCB0aGlzLnN2Z1dpZHRoIC0gdGhpcy5zdmdQYWRkaW5nLmxlZnQgLSB0aGlzLnN2Z1BhZGRpbmcucmlnaHRdKS5wYWRkaW5nKDAuMTUpCiAgICAgICAgLmRvbWFpbih0aGlzLmZpbHRlcmVkRGF0YS5tYXAoKGQpID0+IGQuY291bnRyeSkpOwogICAgfSwKICAgIHlTY2FsZSgpIHsKICAgICAgcmV0dXJuIGQzLnNjYWxlTGluZWFyKCkKICAgICAgICAucmFuZ2VSb3VuZChbdGhpcy5zdmdIZWlnaHQgLSB0aGlzLnN2Z1BhZGRpbmcudG9wIC0gdGhpcy5zdmdQYWRkaW5nLmJvdHRvbSwgMF0pCiAgICAgICAgLmRvbWFpbihbdGhpcy5kYXRhTWluID4gMCA/IDAgOiB0aGlzLmRhdGFNaW4sIHRoaXMuZGF0YU1heF0pOwogICAgfSwKICAgIHNlbGVjdGVkQ291bnRyaWVzOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5zZWxlY3RlZENvdW50cmllczsKICAgICAgfQogICAgfSwKICAgIGJydXNoZWRDb3VudHJpZXM6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmJydXNoZWRDb3VudHJpZXM7CiAgICAgIH0KICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgbGFuZENvdmVyOiB7CiAgICAgIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy5kcmF3Q2hhcnQodGhpcy54U2NhbGUpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgfSwKICAgIGNhcmJvblN0b2NrczogewogICAgICBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuZHJhd0NoYXJ0KHRoaXMueFNjYWxlKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgIH0sCiAgICBkaXNhc3RlcnNGcmVxOiB7CiAgICAgIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy5kcmF3Q2hhcnQodGhpcy54U2NhbGUpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgfSwKICAgIGJydXNoZWRDb3VudHJpZXM6IHsKICAgICAgaGFuZGxlcigpIHsKICAgICAgICB0aGlzLmRyYXdDaGFydCh0aGlzLnhTY2FsZSk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICB9LAogICAgc2VsZWN0ZWRDb3VudHJpZXM6IHsKICAgICAgaGFuZGxlcigpIHsKICAgICAgICBpZiAodGhpcy56b29tZWRYU2NhbGUpIHsKICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KHRoaXMuem9vbWVkWFNjYWxlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5kcmF3Q2hhcnQodGhpcy54U2NhbGUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["BarChart.vue"],"names":[],"mappings":";;AAiBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BarChart.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"vis-component\" ref=\"chart\">\n    <h6>Disasters Frequency per Country</h6>\n    <svg id=\"bar-svg\" :width=\"svgWidth\" :height=\"svgHeight\" @dblclick=\"resetZoom\" >\n      <g class=\"chart-group\" ref=\"chartGroup\">\n        <g class=\"brush-group\" ref=\"brushGroup\"></g>\n        <g class=\"axis axis-x\" ref=\"axisX\"></g>\n        <g class=\"axis axis-y\" ref=\"axisY\"></g>\n        <g class=\"bars-group\" ref=\"barsGroup\"></g>\n      </g>\n    </svg>\n    <div id=\"tooltip\" class=\"tooltip\" style=\"opacity:0;\"></div>\n  </div>\n</template>\n\n<script>\n\nimport * as d3 from 'd3';\n\nexport default {\n  name: 'BarChart',\n  props: {\n  },\n  data() {\n    const svgWidth = window.innerWidth * 4 / 12;\n    const svgHeight = window.innerHeight * 0.35;\n    return {\n      zoomedXScale: null,\n      // zoomedYScale: null,\n      svgWidth: svgWidth,\n      svgHeight: svgHeight,\n      svgPadding: {\n        top: 5, right: 20, bottom: 120, left: 100,\n      }\n      \n    }\n  },\n  mounted() {\n    this.drawChart(this.xScale);\n    this.addBrush();\n    this.initialize();\n    d3.select(\"#bar-svg\").append('g')\n      .attr('transform', 'translate(' + (this.svgWidth/2) + ','+ (this.svgHeight-10) +')')\n      .append(\"text\")\n      .text(\"Country\")\n      .style(\"font-size\", \"14px\")\n  },\n  methods: {\n    removeSelection() {\n      this.$store.commit('removeSelectedCountries');\n    },\n    initialize() {\n      var localbrushedCountries = [];\n      this.filteredData.forEach(d => localbrushedCountries.push(d.id));\n      this.$store.commit('changeBrushedCountries', localbrushedCountries);\n    },\n    resetZoom() {\n      this.zoomedXScale = null;\n      var localbrushedCountries = [];\n      this.$store.commit('changeBrushedCountries', localbrushedCountries);\n      this.initialize();\n      this.drawChart(this.xScale);\n    },\n    drawChart(xScale) {\n      if (this.$refs.chart) this.svgWidth = this.$refs.chart.clientWidth;\n      d3.select(this.$refs.chartGroup)\n        .attr('transform', `translate(${this.svgPadding.left},${this.svgPadding.top})`);\n      this.drawXAxis(xScale);\n      this.drawYAxis();\n      this.drawBars(xScale);\n    },\n    drawXAxis(xScale) {\n      const transition = d3.transition().duration(750); // Duration in milliseconds\n\n      const selectedData = this.filteredData.filter(d => this.selectedCountries.includes(d.id)).map(d => d.country);\n\n      const xAxisGroup = d3.select(this.$refs.axisX)\n        .attr('transform', `translate( 0, ${this.svgHeight - this.svgPadding.top - this.svgPadding.bottom} )`)\n        .transition(transition) // Apply transition to the axis group\n        .call(d3.axisBottom(xScale));\n\n      xAxisGroup.selectAll('text')\n        .attr('y', '7px')\n        .attr('x', '15px')\n        .style('text-anchor', 'start')\n        .attr('dx', '-.8em')\n        .attr('dy', '.15em')\n        .attr('transform', 'rotate(60)')\n        .style('font-size', '10px')\n        .attr('opacity', function(d) {\n            // Check if the country ID is in the selectedCountries array\n            let opacity = 0;\n            if (selectedData && selectedData.length !== 0) {\n              opacity = selectedData.includes(d) ? 1 : 0;\n            } else if (this.filteredData.length < 50) {\n              opacity = 1\n            } else {\n              opacity = 0\n            }\n            return opacity;\n\n        }.bind(this));\n\n      const label = d3.select(this.$refs.axisX).select('.x-axis-label');\n      if (label.empty()) {\n        d3.select(this.$refs.axisX) // Append to the main group, not the transitioning group\n          .append('text')\n          .attr('class', 'x-axis-label')\n          .attr('x', this.svgWidth / 2)\n          .attr('y', this.svgHeight *2) \n          .style('text-anchor', 'middle')\n          .style('font-size', '12px')\n          .text('Countries');\n      }\n\n    },\n    drawYAxis() {\n      d3.select(this.$refs.axisY)\n        .call(d3.axisLeft(this.yScale))\n        .style('font-size', '10px')\n        .append('text')\n        .attr('transform', 'rotate(-90)')\n        .attr('x', -this.svgHeight/2 + this.svgPadding.top + this.svgPadding.bottom - 30)\n        .attr('y', -this.svgPadding.left +55)\n        .attr('dy', '0.71em')\n        .attr('text-anchor', 'end')\n        .attr('fill', 'black')\n        .style('font-size', '12px')\n        .text(\"Disaster Frequency\");\n    },\n    drawBars(xScale) {\n      const barsGroup = d3.select(this.$refs.barsGroup);\n      const tooltip = d3.select(\"#tooltip\");\n      const transition = d3.transition().duration(750);\n\n      // Filter the data to only include brushed countries\n      const brushedData = this.brushedCountries.length\n        ? this.filteredData.filter(d => this.brushedCountries.includes(d.id))\n        : this.filteredData;\n\n      barsGroup.selectAll('.bar')\n        .data(brushedData, function(d) { return d.id; })\n        .join(\n          enter => enter.append('rect')\n            .attr('class', 'bar')\n            .attr('x', (d) => xScale(d.country))\n            .attr('width', xScale.bandwidth())\n            .attr('y', this.svgHeight - this.svgPadding.top - this.svgPadding.bottom) // Start from bottom\n            .attr('height', 0) \n            .call(enter => enter.transition(transition) // Transition on enter\n              .attr('y', (d) => this.yScale(d.value))\n              .attr('height', (d) => this.svgHeight - this.svgPadding.top - this.svgPadding.bottom - this.yScale(d.value))),\n          update => update.call(update => update.transition(transition) // Transition on update\n            .attr('x', (d) => xScale(d.country))\n            .attr('width', xScale.bandwidth())\n            .attr('y', (d) => this.yScale(d.value))\n            .attr('height', (d) => this.svgHeight - this.svgPadding.top - this.svgPadding.bottom - this.yScale(d.value))),\n          exit => exit.call(exit => exit.transition(transition) // Transition on exit\n            .attr('y', this.svgHeight - this.svgPadding.top - this.svgPadding.bottom)\n            .attr('height', 0)\n            .remove())\n        )\n        .attr('fill', d => {\n          const countryData = this.filteredData.find(s => s.id === d.id);\n          const isSelected = this.selectedCountries.includes(d.id);\n          if (countryData.country) {\n            if (isSelected) {\n              if (this.brushedCountries.includes(countryData.id)) {\n                return 'rgb(253, 255, 181)';\n              } else {\n                return 'rgb(150, 150, 150)';\n              }\n            } else {\n              if (this.brushedCountries.includes(countryData.id)) {\n                return this.getColorForCountry(countryData);\n              } else {\n                return 'rgb(130, 130, 130)';\n              }\n            }\n          } else {\n            return 'darkgrey';\n          }\n        })\n        .on('click', (event, d) => this.handleBarClick(d.id))\n        .on('mouseover', (event, d) => {\n          let landCoverTemp;\n          let carbonStocksTemp;\n          let disastersFreqTemp;\n          const hoveringLandCover = this.landCover.find(country => country.id === d.id);\n          const hoveringCarbonStocks = this.carbonStocks.find(country => country.id === d.id);\n          const hoveringDisasters = this.disastersFreq.find(country => country.id === d.id)\n          if (hoveringLandCover) {\n            landCoverTemp = hoveringLandCover.value === 0 ? 'No Data' : hoveringLandCover.value.toFixed(4);\n          } else {\n            landCoverTemp = 'No Data';\n          }\n          if (hoveringCarbonStocks) {\n            carbonStocksTemp = hoveringCarbonStocks.value === 0 ? 'No Data' : hoveringCarbonStocks.value.toFixed(4);\n          } else {\n            carbonStocksTemp = 'No Data';\n          }\n          if (hoveringDisasters) {\n            disastersFreqTemp = hoveringDisasters.value === -1 ? 'No Data' : hoveringDisasters.value;\n          } else {\n            disastersFreqTemp = 'No Data';\n          }\n          tooltip.transition()\n            .duration(200)\n            .style('opacity', 1);\n\n\n          tooltip.html(`\n            <table>\n              <tr><td class=\"label\">Country:</td>         <td class=\"value\">${d.country}</td></tr>\n              <tr><td class=\"label\">CarbonStocks:</td>        <td class=\"value\">${carbonStocksTemp}</td></tr>\n              <tr><td class=\"label\">LandCoverIndex:</td>     <td class=\"value\">${landCoverTemp}</td></tr>\n              <tr><td class=\"label\">disastersFreq:</td>     <td class=\"value\">${disastersFreqTemp}</td></tr>\n            </table>\n          `)\n            .style('left', (event.clientX - 275) + 'px')\n            .style('top', (event.clientY - 400) + 'px');\n        })\n        .on('mouseout', () => {\n          tooltip.transition().duration(500).style('opacity', 0);\n          \n        });\n    },\n\n    handleBarClick(countryId) {\n      const isSelected = this.selectedCountries.includes(countryId);\n      if (!isSelected) {\n        this.$store.commit('changeSelectedCountries', countryId);\n      } else {\n        this.$store.commit('removeSelectedCountry', countryId);\n      }\n    },\n    getColorForCountry(countryData) {\n      const colors = [\n        \"rgb(230, 230, 230)\",\n        \"rgb(220, 183, 210)\", // 0 1 \n        \"rgb(211, 146, 194)\", // 0 0 \n        \"rgb(195, 238, 199)\", // 1 2 \n        \"rgb(151, 185, 199)\", \n        \"rgb(168, 140, 191)\", // 1 0 \n        \"rgb(148, 221, 166)\", // 2 2 \n        \"rgb(129, 186, 162)\", // 2 1 \n        \"rgb(107, 120, 155)\",\n      ];\n      const landCoverData = this.landCover.find(country => country.id === countryData.id);\n      const carbonStocksData = this.carbonStocks.find(country => country.id === countryData.id);\n      if (!landCoverData || !carbonStocksData) {\n        // Handle the case where data is not available for the country\n        return 'darkgrey';\n      }\n      let landCoverCategory = this.getLandCoverCategory(landCoverData.value);\n      let carbonStocksCategory = this.getCarbonStocksCategory(carbonStocksData.value);\n\n      if (carbonStocksCategory === 'low' && landCoverCategory === 'low') return colors[0];\n      if (carbonStocksCategory === 'low' && landCoverCategory === 'medium') return colors[1];\n      if (carbonStocksCategory === 'low' && landCoverCategory === 'high') return colors[2];\n      if (carbonStocksCategory === 'medium' && landCoverCategory === 'low') return colors[3];\n      if (carbonStocksCategory === 'medium' && landCoverCategory === 'medium') return colors[4];\n      if (carbonStocksCategory === 'medium' && landCoverCategory === 'high') return colors[5];\n      if (carbonStocksCategory === 'high' && landCoverCategory === 'low') return colors[6];\n      if (carbonStocksCategory === 'high' && landCoverCategory === 'medium') return colors[7];\n      if (carbonStocksCategory === 'high' && landCoverCategory === 'high') return colors[8];\n    },\n    getLandCoverCategory(landCover) {\n      const xFirstTick = this.landCoverMin + (this.landCoverMax - this.landCoverMin) / 3;\n      const xSecondTick = this.landCoverMin + 2 * (this.landCoverMax - this.landCoverMin) / 3;\n      const xThresholds = [xFirstTick, xSecondTick];\n      if (landCover <= xThresholds[0]) return 'low';\n      if (landCover <= xThresholds[1]) return 'medium';\n      return 'high';\n    },\n\n    getCarbonStocksCategory(carbonStocks) {\n      const yFirstTick = this.carbonStocksMin + (this.carbonStocksMax - this.carbonStocksMin) / 3;\n      const ySecondTick = this.carbonStocksMin + 2 * (this.carbonStocksMax - this.carbonStocksMin) / 3;\n      const yThresholds = [yFirstTick, ySecondTick];\n      if (carbonStocks <= yThresholds[0]) return 'low';\n      if (carbonStocks <= yThresholds[1]) return 'medium';\n      return 'high';\n    },\n\n    addBrush() {\n      this.brush = d3.brushX()\n        .extent([[0,0], [this.svgWidth - this.svgPadding.left - this.svgPadding.right, \n          this.svgHeight - this.svgPadding.bottom - this.svgPadding.top]])\n        .on('end', this.onBrush);\n      \n      d3.select(this.$refs.brushGroup)\n        .attr('class', 'brush')\n        .call(this.brush);\n    },\n    // get states in brush\n    onBrush(event) {\n      var selection = event.selection;\n      var brushedIds = [];\n      var xScale;\n      if (this.zoomedXScale) {\n        xScale = this.zoomedXScale;\n      } else {\n        xScale = this.xScale\n      }\n\n      if (selection) {\n        const [x0, x1] = selection;\n        \n        // Filter the data based on the brushed selection\n        brushedIds = this.filteredData\n          .filter(d => {\n            const x = xScale(d.country);\n            return x >= x0 && x <= x1;\n          })\n          .map(d => d.id);\n      }\n      this.drawBars(xScale); // Redraw bars with updated data\n        \n      var idleTimeout;\n      if (!selection) {\n        if (!idleTimeout) return idleTimeout = setTimeout(() => {\n          idleTimeout = null\n        }, 1) \n      }\n      d3.select('#bar-svg').select(\".brush\").call(this.brush.move, null)\n\n      this.$store.commit('changeBrushedCountries', brushedIds);\n    },\n    \n  },\n  computed: {\n    \n    filteredData() {\n      let filtered = this.disastersFreq.filter(d => d.value > 0);\n      if (this.brushedCountries.length > 0) {\n        filtered = filtered.filter(d => this.brushedCountries.includes(d.id));\n      }\n      filtered.sort((a, b) => d3.descending(+a.value, +b.value));\n      return filtered;\n    },\n    landCover: {\n      get() {\n        return this.$store.getters.landCover;\n      }\n    },\n    carbonStocks: {\n      get() {\n        return this.$store.getters.carbonStocks;\n      }\n    },\n    disastersFreq: {\n      get() {\n        return this.$store.getters.disastersFreq;\n      }\n    },\n    dataMax() {\n      return 40;\n    },\n    dataMin() {\n      return 0;\n    },\n    carbonStocksMax() {\n      return 200;\n    },\n    carbonStocksMin() {\n      return 0;\n    },\n    landCoverMax() {\n      return 130;\n    },\n    landCoverMin() {\n      return 70;\n    },\n    xScale() {\n      return d3.scaleBand()\n        .rangeRound([0, this.svgWidth - this.svgPadding.left - this.svgPadding.right]).padding(0.15)\n        .domain(this.filteredData.map((d) => d.country));\n    },\n    yScale() {\n      return d3.scaleLinear()\n        .rangeRound([this.svgHeight - this.svgPadding.top - this.svgPadding.bottom, 0])\n        .domain([this.dataMin > 0 ? 0 : this.dataMin, this.dataMax]);\n    },\n    selectedCountries: {\n      get() {\n        return this.$store.getters.selectedCountries;\n      }\n    },\n    brushedCountries: {\n      get() {\n        return this.$store.getters.brushedCountries;\n      }\n    },\n  },\n  watch: {\n    landCover: {\n      handler() {\n        this.drawChart(this.xScale);\n      },\n      deep: true,\n    },\n    carbonStocks: {\n      handler() {\n        this.drawChart(this.xScale);\n      },\n      deep: true,\n    },\n    disastersFreq: {\n      handler() {\n        this.drawChart(this.xScale);\n      },\n      deep: true,\n    },\n    brushedCountries: {\n      handler() {\n        this.drawChart(this.xScale);\n      },\n      deep: true,\n    },\n    selectedCountries: {\n      handler() {\n        if (this.zoomedXScale) {\n          this.drawChart(this.zoomedXScale);\n        } else {\n          this.drawChart(this.xScale);\n        }\n      },\n      deep: true,\n    }\n  },\n}\n</script>\n\n<style>\n\n.bar:hover {\n  border-width: 1;\n  border-color: rgb(253, 255, 181);\n  opacity: 0.7;\n}\n\n\n</style>\n"]}]}